{"version":3,"sources":["../../../../src/client/components/router-reducer/refetch-inactive-parallel-segments.ts"],"names":["applyFlightData","fetchServerResponse","PAGE_SEGMENT_KEY","refreshInactiveParallelSegments","options","fetchedSegments","Set","refreshInactiveParallelSegmentsImpl","rootTree","updatedTree","state","updatedCache","includeNextUrl","parallelRoutes","refetchPathname","refetchMarker","fetchPromises","location","pathname","has","add","fetchPromise","URL","origin","nextUrl","buildId","then","fetchResponse","flightData","flightDataPath","push","key","parallelFetchPromise","Promise","all","addRefreshMarkerToActiveParallelSegments","tree","segment","includes"],"mappings":"AAGA,SAASA,eAAe,QAAQ,sBAAqB;AACrD,SAASC,mBAAmB,QAAQ,0BAAyB;AAC7D,SAASC,gBAAgB,QAAQ,8BAA6B;AAS9D;;;;;;;;;;CAUC,GACD,OAAO,eAAeC,gCACpBC,OAAwC;IAExC,MAAMC,kBAAkB,IAAIC;IAC5B,MAAMC,oCAAoC;QACxC,GAAGH,OAAO;QACVI,UAAUJ,QAAQK,WAAW;QAC7BJ;IACF;AACF;AAEA,eAAeE,oCAAoC,KAUlD;IAVkD,IAAA,EACjDG,KAAK,EACLD,WAAW,EACXE,YAAY,EACZC,cAAc,EACdP,eAAe,EACfG,WAAWC,WAAW,EAIvB,GAVkD;IAWjD,MAAM,GAAGI,gBAAgBC,iBAAiBC,cAAc,GAAGN;IAC3D,MAAMO,gBAAgB,EAAE;IAExB,IACEF,mBACAA,oBAAoBG,SAASC,QAAQ,IACrCH,kBAAkB,aAClB,4FAA4F;IAC5F,sDAAsD;IACtD,CAACV,gBAAgBc,GAAG,CAACL,kBACrB;QACAT,gBAAgBe,GAAG,CAACN,iBAAiB,2BAA2B;;QAEhE,wHAAwH;QACxH,kIAAkI;QAClI,MAAMO,eAAepB,oBACnB,IAAIqB,IAAIR,iBAAiBG,SAASM,MAAM,GACxC,gGAAgG;QAChG,8HAA8H;QAC9H;YAACf,QAAQ,CAAC,EAAE;YAAEA,QAAQ,CAAC,EAAE;YAAEA,QAAQ,CAAC,EAAE;YAAE;SAAU,EAClDI,iBAAiBF,MAAMc,OAAO,GAAG,MACjCd,MAAMe,OAAO,EACbC,IAAI,CAAC,CAACC;YACN,MAAMC,aAAaD,aAAa,CAAC,EAAE;YACnC,IAAI,OAAOC,eAAe,UAAU;gBAClC,KAAK,MAAMC,kBAAkBD,WAAY;oBACvC,wFAAwF;oBACxF,4GAA4G;oBAC5G,4EAA4E;oBAC5E5B,gBAAgBW,cAAcA,cAAckB;gBAC9C;YACF,OAAO;YACL,4GAA4G;YAC5G,+GAA+G;YAC/G,sEAAsE;YACxE;QACF;QAEAb,cAAcc,IAAI,CAACT;IACrB;IAEA,IAAK,MAAMU,OAAOlB,eAAgB;QAChC,MAAMmB,uBAAuBzB,oCAAoC;YAC/DG;YACAD,aAAaI,cAAc,CAACkB,IAAI;YAChCpB;YACAC;YACAP;YACAG;QACF;QAEAQ,cAAcc,IAAI,CAACE;IACrB;IAEA,MAAMC,QAAQC,GAAG,CAAClB;AACpB;AAEA;;;;;CAKC,GACD,OAAO,SAASmB,yCACdC,IAAuB,EACvBlB,QAAgB;IAEhB,MAAM,CAACmB,SAASxB,kBAAkBE,cAAc,GAAGqB;IACnD,oGAAoG;IACpG,IAAIC,QAAQC,QAAQ,CAACpC,qBAAqBa,kBAAkB,WAAW;QACrEqB,IAAI,CAAC,EAAE,GAAGlB;QACVkB,IAAI,CAAC,EAAE,GAAG;IACZ;IAEA,IAAK,MAAML,OAAOlB,eAAgB;QAChCsB,yCAAyCtB,cAAc,CAACkB,IAAI,EAAEb;IAChE;AACF"}